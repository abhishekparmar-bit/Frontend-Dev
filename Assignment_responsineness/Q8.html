<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Filter Comparison Layout</title>
  <style>
    :root {
      --gap: 1.25rem;
      --max-width: 1100px;
    }
    * { box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      margin: 0;
      padding: 2rem;
      display: flex;
      justify-content: center;
      background: #f7f7fb;
      color: #111;
    }
    .container {
      width: 100%;
      max-width: var(--max-width);
    }
    h1 {
      font-size: 1.25rem;
      margin: 0 0 1rem 0;
    }
    .compare {
      display: flex;
      gap: var(--gap);
      align-items: stretch;
    }
    figure {
      margin: 0;
      flex: 1 1 0;
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 6px 18px rgba(20,20,40,0.06);
      display: flex;
      flex-direction: column;
    }
    .img-wrap {
      position: relative;
      width: 100%;
      height: 0;
      padding-bottom: 62%;
      overflow: hidden;
    }
    img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transition: transform 350ms ease;
    }
    .left img {
      transform-origin: center;
    }
    .left:hover img { transform: scale(1.02); }
    .right img {
      filter: grayscale(60%) contrast(0.9) brightness(0.92);
      transition: filter 400ms ease, transform 350ms ease;
      transform-origin: center;
    }
    .right:hover img,
    .right.touch-active img {
      filter: none;
      transform: scale(1.02);
    }
    figcaption {
      padding: 0.75rem 1rem;
      font-size: 0.95rem;
      color: #444;
      display: none;
      border-top: 1px solid rgba(0,0,0,0.04);
    }
    .hint {
      margin-top: 0.75rem;
      font-size: 0.875rem;
      color: #666;
    }
    @media (max-width: 700px) {
      .compare {
        flex-direction: column;
      }
      figure {
        border-radius: 8px;
      }
      .img-wrap { padding-bottom: 56%; }
      figcaption {
        display: block;
      }
    }
    .right:focus-within,
    .left:focus-within {
      outline: 3px solid rgba(59,130,246,0.18);
      outline-offset: 4px;
    }
    figure { cursor: default; }
    .img-button {
      position: absolute;
      inset: 0;
      background: transparent;
      border: none;
      padding: 0;
      margin: 0;
      display: block;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Before & After — Filter Comparison</h1>
    <div class="compare">
      <figure class="left">
        <div class="img-wrap">
          <img src="image-left.jpg" alt="Before image">
        </div>
        <figcaption>Before — original image</figcaption>
      </figure>
      <figure class="right" tabindex="0">
        <div class="img-wrap">
          <img src="image-right.jpg" alt="After image">
          <button class="img-button" aria-label="Toggle filter" type="button"></button>
        </div>
        <figcaption>After — filter applied (hover to reveal original)</figcaption>
      </figure>
    </div>
    <p class="hint">On desktop: hover the right image to fade the filter away. On mobile: tap the right image to toggle the filter.</p>
  </div>
  <script>
    (function(){
      const rightFig = document.querySelector('.right');
      if (!rightFig) return;
      const btn = rightFig.querySelector('.img-button');
      function toggleTouch() {
        rightFig.classList.toggle('touch-active');
      }
      btn.addEventListener('click', function(){
        toggleTouch();
      });
      rightFig.addEventListener('keydown', function(e){
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          toggleTouch();
        }
      });
    })();
  </script>
</body>
</html>
